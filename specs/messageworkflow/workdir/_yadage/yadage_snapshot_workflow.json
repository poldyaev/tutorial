{"applied": [{"type": "offset", "id": "d7d6d047-09c0-42c3-912b-284ab5c031fd", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": []}, "type": "JsonStage", "name": "init", "scheduler": {"inputs": [], "scheduler_type": "init-stage", "nodename": null, "parameters": {"msg": "Hi there."}, "discover": true}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": ["/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir/init"], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": ["/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir"], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}, {"type": "offset", "id": "77d6c0d5-4554-429d-935c-354174e1aca3", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}, "type": "JsonStage", "name": "writing_stage", "scheduler": {"step": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "/code/message_writer '{message}' {outputfile}\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"msgfile": "{outputfile}"}}, "environment": {"workdir": null, "envscript": "", "par_mounts": [], "image": "yadage/tutorial-messagewriter", "imagetag": "latest", "environment_type": "docker-encapsulated", "env": {}, "resources": []}}, "scheduler_type": "singlestep-stage", "parameters": [{"key": "message", "value": {"output": "msg", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "outputfile", "value": "{workdir}/outputfile.txt"}]}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": ["/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir/init"], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": ["/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir"], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}, {"type": "offset", "id": "78cb30cb-ccaf-4746-aba3-baf45a3c598b", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["writing_stage"]}, "type": "JsonStage", "name": "shouting_stage", "scheduler": {"step": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "python /code/uppermaker.py {inputfile} {outputfile}\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"shoutingfile": "{outputfile}"}}, "environment": {"workdir": null, "envscript": "", "par_mounts": [], "image": "yadage/tutorial-uppermaker", "imagetag": "latest", "environment_type": "docker-encapsulated", "env": {}, "resources": []}}, "scheduler_type": "singlestep-stage", "parameters": [{"key": "outputfile", "value": "{workdir}/outputfile.txt"}, {"key": "inputfile", "value": {"output": "msgfile", "step": "writing_stage", "expression_type": "stage-output-selector"}}]}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": ["/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir/init"], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": ["/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir"], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}], "dag": {"nodes": [{"task": {"inputs": [{"stepid": "5c0cfabc-04ea-473f-89f0-cd9e1314c699", "pointer_path": "/msgfile"}], "parameters": {"outputfile": "{workdir}/outputfile.txt", "inputfile": "/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir/writing_stage/outputfile.txt"}, "state": {"state_type": "localfs", "readwrite": ["/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir/shouting_stage"], "readonly": ["/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir/writing_stage"], "identifier": "shouting_stage"}, "type": "packtivity_task", "spec": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "python /code/uppermaker.py {inputfile} {outputfile}\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"shoutingfile": "{outputfile}"}}, "environment": {"workdir": null, "envscript": "", "par_mounts": [], "image": "yadage/tutorial-uppermaker", "imagetag": "latest", "environment_type": "docker-encapsulated", "env": {}, "resources": []}}, "metadata": {"wflow_hints": {"is_purepub": false}, "name": "shouting_stage", "wflow_stage_node_idx": 0, "wflow_offset": "", "wflow_stage": "shouting_stage", "wflow_node_id": "453069ec-a1b8-44da-a683-b3abf2881926"}}, "name": "shouting_stage", "state": "SUCCESS", "proxy": {"proxyname": "PacktivityProxyBase", "proxydetails": null}, "timestamps": {"defined": 1542749123.12364, "ready by": 1542749132.241626, "submit": 1542749127.909687}, "id": "453069ec-a1b8-44da-a683-b3abf2881926", "result": {"shoutingfile": "/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir/shouting_stage/outputfile.txt"}}, {"task": {"inputs": [], "parameters": {"msg": "Hi there."}, "state": {"state_type": "localfs", "readwrite": [], "readonly": ["/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir/init"], "identifier": "init"}, "type": "packtivity_task", "spec": {"process": null, "environment": null, "publisher": {"tryExact": true, "publisher_type": "fromparjq-pub", "glob": true, "relative_paths": true, "script": "."}}, "metadata": {"wflow_hints": {"is_purepub": true}, "name": "init", "wflow_stage_node_idx": 0, "wflow_offset": "", "wflow_stage": "init", "wflow_node_id": "dda5ded4-eb47-40ac-9de0-79ed7e9f555d"}}, "name": "init", "state": "SUCCESS", "proxy": {"proxyname": "ForegroundProxy", "proxydetails": {"success": true, "resultdata": {"msg": "Hi there."}, "labels": {"backend_hints": "is_purepub"}, "datamodel": null}}, "timestamps": {"defined": 1542749122.724189, "ready by": 1542749123.745492, "submit": 1542749123.43003}, "id": "dda5ded4-eb47-40ac-9de0-79ed7e9f555d", "result": {"msg": "Hi there."}}, {"task": {"inputs": [{"stepid": "dda5ded4-eb47-40ac-9de0-79ed7e9f555d", "pointer_path": "/msg"}], "parameters": {"message": "Hi there.", "outputfile": "{workdir}/outputfile.txt"}, "state": {"state_type": "localfs", "readwrite": ["/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir/writing_stage"], "readonly": ["/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir/init"], "identifier": "writing_stage"}, "type": "packtivity_task", "spec": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "/code/message_writer '{message}' {outputfile}\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"msgfile": "{outputfile}"}}, "environment": {"workdir": null, "envscript": "", "par_mounts": [], "image": "yadage/tutorial-messagewriter", "imagetag": "latest", "environment_type": "docker-encapsulated", "env": {}, "resources": []}}, "metadata": {"wflow_hints": {"is_purepub": false}, "name": "writing_stage", "wflow_stage_node_idx": 0, "wflow_offset": "", "wflow_stage": "writing_stage", "wflow_node_id": "5c0cfabc-04ea-473f-89f0-cd9e1314c699"}}, "name": "writing_stage", "state": "SUCCESS", "proxy": {"proxyname": "PacktivityProxyBase", "proxydetails": null}, "timestamps": {"defined": 1542749122.898514, "ready by": 1542749127.90905, "submit": 1542749123.746034}, "id": "5c0cfabc-04ea-473f-89f0-cd9e1314c699", "result": {"msgfile": "/Users/lukas/Code/yadagedev/tutorial/specs/messageworkflow/workdir/writing_stage/outputfile.txt"}}], "edges": [["dda5ded4-eb47-40ac-9de0-79ed7e9f555d", "5c0cfabc-04ea-473f-89f0-cd9e1314c699"], ["5c0cfabc-04ea-473f-89f0-cd9e1314c699", "453069ec-a1b8-44da-a683-b3abf2881926"]]}, "stepsbystage": {"shouting_stage": [{"_nodeid": "453069ec-a1b8-44da-a683-b3abf2881926"}], "init": [{"_nodeid": "dda5ded4-eb47-40ac-9de0-79ed7e9f555d"}], "writing_stage": [{"_nodeid": "5c0cfabc-04ea-473f-89f0-cd9e1314c699"}]}, "rules": [], "values": {}, "bookkeeping": {"_meta": {"stages": ["77d6c0d5-4554-429d-935c-354174e1aca3", "78cb30cb-ccaf-4746-aba3-baf45a3c598b", "d7d6d047-09c0-42c3-912b-284ab5c031fd"], "steps": ["dda5ded4-eb47-40ac-9de0-79ed7e9f555d", "5c0cfabc-04ea-473f-89f0-cd9e1314c699", "453069ec-a1b8-44da-a683-b3abf2881926"]}}}